{
  "enabled": {
    "description": "启用稳流代理",
    "type": "bool",
    "default": true
  },
  "debug": {
    "description": "启用调试日志",
    "type": "bool",
    "default": false,
    "hint": "记录每个请求的方法、路径、目标、请求体和耗时"
  },
  "port": {
    "description": "本地监听端口",
    "type": "int",
    "default": 23456,
    "hint": "代理服务器使用的本地端口"
  },
  "request_timeout": {
    "description": "上游请求超时（秒）",
    "type": "float",
    "default": 120.0,
    "hint": "全局连接/读取超时，防止上游连接永久挂起"
  },
  "gemini_fix_retries": {
    "description": "Gemini 空参数重试次数",
    "type": "int",
    "default": 2,
    "hint": "Gemini thinking 模式下工具调用参数为空时，注入提示并重试的最大次数，0 表示禁用"
  },
  "gemini_extract_args": {
    "description": "启用 Gemini 参数 JSON 提取增强",
    "type": "bool",
    "default": false,
    "hint": "开启后，若重试后参数仍为空，会额外发送一条请求让模型单独输出 JSON 参数，再注入回原响应"
  },
  "providers": {
    "type": "template_list",
    "description": "提供商路由列表",
    "templates": {
      "provider": {
        "name": "提供商",
        "hint": "将 AstrBot 提供商的 base_url 设置为 http://localhost:<端口>/<路由名称>",
        "items": {
          "route_name": {
            "description": "路由名称",
            "type": "string",
            "hint": "用于本地路径：/<路由名称>"
          },
          "target_url": {
            "description": "上游 API 基础 URL",
            "type": "string",
            "default": "https://api.openai.com",
            "hint": "只需填写基础 URL，端点路径会自动匹配"
          },
          "forward_url": {
            "description": "生成的本地转发 URL",
            "type": "string",
            "default": "",
            "hint": "由端口 + 路由名称自动生成"
          },
          "proxy_url": {
            "description": "HTTP 代理 URL（可选）",
            "type": "string",
            "default": "",
            "hint": "例如：http://127.0.0.1:7890"
          }
        }
      }
    }
  }
}
